# Claude Code Usage Decisions

## 採用パターン

| パターン | 用途 | 採用理由 | 代替候補 |
|---------|------|---------|---------|
| skills/ + agents/ 分離 | コマンド定義 | インターフェースとロジックの分離 | スキルにロジック埋込み |
| references/ ナレッジベース | 知識共有 | 複数スキルからの参照 | スキル内に重複記述 |
| context: fork | サブエージェント | メインコンテキストのトークン節約 | 同一コンテキスト実行 |
| .wf/state.json | 状態管理 | 構造化されたワークフロー状態 | ファイル名ベース判定 |
| .wf/memory.json | セッション記憶 | コンパクション耐性 | コンテキスト依存 |
| hooks.json | 自動検証 | デバッグログ検出、git安全性 | 手動チェック |

## 不採用とした選択肢

| パターン | 不採用理由 |
|---------|-----------|
| MCP Server統合 | ファイルベースで十分、サーバー管理の複雑さ回避 |
| カスタムCLIラッパー | Claude Code標準コマンドで十分 |
| DB保存の状態管理 | JSONファイルのシンプルさを優先 |
| 単一巨大CLAUDE.md | 責務分離のため skills/agents/references に分割 |

## 関連ドキュメント

- [best-practices.md](best-practices.md) — スキル記述のベストプラクティス
