# /doc-review

任意のドキュメントファイルのレビューを作成し、`<filename>.review.md` として出力するコマンド。

## 使用方法

```
/doc-review <ファイルパス>
```

## 引数

- `<ファイルパス>`: レビュー対象のファイルパス（必須）

## 処理内容

$ARGUMENTS を解析して以下の処理を実行してください。

### 1. 引数の解析

```
target_file=$ARGUMENTS
```

引数が空の場合はエラーメッセージを表示して終了：
```
❌ エラー: ファイルパスを指定してください

使用方法: /doc-review <ファイルパス>
例: /doc-review docs/README.md
```

### 2. ファイルの存在確認

対象ファイルが存在しない場合はエラー：
```
❌ エラー: ファイルが見つかりません: <target_file>
```

### 3. 出力ファイルパスの決定

```
# 拡張子を除いたベース名 + .review.md
# 例: docs/guide.md → docs/guide.review.md
# 例: src/config.yaml → src/config.review.md
output_file="${target_file%.*}.review.md"
```

### 4. 対象ファイルの読み込みと分析

ファイルの内容を読み込み、以下の観点で分析：

- **目的と役割**: このドキュメントは何のために存在するか
- **完全性**: 必要な情報が網羅されているか
- **明確性**: 読者にとって分かりやすいか
- **一貫性**: 用語やスタイルが統一されているか
- **技術的正確性**: 情報は正確で最新か
- **改善点**: 具体的に何をどう改善すべきか

### 5. レビューファイルの生成

**テンプレート参照:** `../templates/DOC_REVIEW.md`

テンプレートを読み込み、以下のプレースホルダーを置換してレビューを作成：

| プレースホルダー | 値 |
|------------------|-----|
| `{{filename}}` | 対象ファイルのファイル名 |
| `{{date}}` | レビュー日（YYYY-MM-DD形式） |
| `{{file_path}}` | 対象ファイルのパス |

### 6. レビューファイルの出力

生成したレビューを `output_file` に書き込む。

### 7. 完了メッセージ

```
✅ レビューが完了しました

対象ファイル: <target_file>
レビューファイル: <output_file>

レビュー内容:
- 概要: ドキュメントの目的と役割
- 評価: 品質・技術的正確性のチェック
- 改善点: 優先度別の具体的な提案
- 総評: 総合的な評価

レビューファイルを確認し、必要に応じて改善を実施してください。
```

## 注意事項

- レビューは日本語で記述
- 具体的かつ建設的なフィードバックを心がける
- 改善点には「箇所」「問題」「提案」を明確に記述
- 評価チェックリストは実際の評価結果でチェック/アンチェックする
