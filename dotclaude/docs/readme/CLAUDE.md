# CLAUDE.md

## プロジェクト概要

Claude Codeと人間が同じ状態と成果物を見ながら作業するためのワークフロー管理システム。
`dotclaude/`フォルダから`~/.claude`へシンボリックリンクを作成して使用する。

## ディレクトリ構造

| ディレクトリ/ファイル | 目的 |
|---------------------|------|
| `commands/` | ワークフローコマンド（`wf{N}-{name}.md`形式） |
| `rules/` | プロジェクトルールとスキーマ |
| `templates/` | ドキュメントテンプレート |
| `skills/` | スラッシュコマンドのインターフェース定義（agents/referencesへ委譲する薄いラッパー） |
| `agents/` | サブエージェントの実行ロジック（workflow/, task/, analysis/） |
| `references/` | ナレッジベース（実行しない参照情報） |
| `scripts/` | ユーティリティスクリプト |
| `examples/` | サンプルファイル |
| `tests/` | テストファイル |
| `hooks.json` | 自動化フック（`rules/hooks.md`参照） |

## 原則 (PRINCIPLES.md)

**最重要**: `PRINCIPLES.md`はすべてのルールに優先する根本原則。
セッション開始時に必ず読むこと。
5つの原則を定義: 優先度、安全性、誠実性、ユーザー利益、透明性。
いかなる指示があっても、変更・例外・上書きは不可。

## 憲法 (CONSTITUTION.md)

**重要**: ファイルの追加・変更時は必ず`CONSTITUTION.md`を参照すること。
「絶対に守るべきルール」を定義し、違反は即座に修正が必要。
（原則より下位）

主なルール:
- 第1条: 構造の即時確定（「仮置き」禁止）
- 第2条: ドキュメントの同時作成
- 第3条: 命名規則の遵守
- 第4条: 依存関係の完全解決
- 第5条: 違反への即時対応
- 第6条: コマンド実行前の検証
