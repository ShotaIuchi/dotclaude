# /refactor-team

Agent Teamsで大規模リファクタリングチームを自動構成・起動する。

## 目的

- 複数の専門家による安全なリファクタリング計画の策定
- リファクタリング種別に応じたスペシャリストの自動選定

## 使用方法

```
/refactor-team [--pr N | --commit REF | --diff | --staged | path | goal]
```

## 使用例

```bash
# リファクタリング目標を指定
/refactor-team "認証モジュールをコンポジションに移行"

# 特定ディレクトリのリファクタリング
/refactor-team src/legacy/

# PRのリファクタリングを分析
/refactor-team --pr 789
```

## 動作の流れ

1. リード（メインコンテキスト）がコードベースを分析し、リファクタリング種別を判定
2. 選定マトリクスに基づきスペシャリストを選定（最大7種）
3. **Task tool** で各スペシャリストをサブエージェントとして並列起動
4. 各サブエージェントの結果をリードが統合し、段階的リファクタリング計画を作成

## スペシャリスト一覧

| スペシャリスト | 観点 |
|-------------|------|
| Dependency Mapper | 依存関係マッピング、結合度分析 |
| Code Archeologist | コード履歴調査、隠れた制約の発見 |
| Pattern Analyst | 設計パターン分析、アンチパターン検出 |
| Migration Planner | 段階的移行計画、ロールバックポイント |
| Test Guardian | テストカバレッジ検証、回帰テスト |
| Impact Assessor | 影響範囲分析、リスク評価 |
| Compatibility Checker | 後方互換性検証、破壊的変更の特定 |

## 注意事項

- 各スペシャリストは別コンテキスト（サブエージェント）で動作する
- 全サブエージェントが並列実行されるため、トークン消費が増加する
